# Логирование вывода консоли
## Вариант 1

### Команда `script`

**script**  делает лог всего, что напечатано на вашем терминале. Это полезно для пользователей, которым нужна бумажная запись интерактивного сеанса в качестве доказательства проделанной работы, поскольку файл лога можно распечатать позже с помощью **lpr**. Если указан аргумент файла, скрипт сохраняет весь диалог в файл. Если имя файла не указано, лог сохраняется в файле с именем ***typescript***.

```
script [-a] [-c command] [-e] [-f] [-q] [-t[=file]] [-V] [-h] [file]
```

### Примеры использования

#### Сохрнение вывода в файл myfile.txt

```bash
script myfile.txt
...
exit # or when Ctrl-D
```

#### Сохранение вывода ps -ax в файл /tmp/processes.txt

```bash
script -c "ps ax" /tmp/processes.txt
```

## Вариант 2

```bash
#!/bin/bash
exec 3>&1 4>&2
trap 'exec 2>&4 1>&3' 0 1 2 3
exec 1>log.txt 2>&1
...
```

### Everything below will go to the file 'log.txt'

Explanation:

```bash
exec 3>&1 4>&2
```

Saves file descriptors so they can be restored to whatever they were before redirection or used themselves to output to whatever they were before the following redirect.

```bash
trap 'exec 2>&4 1>&3' 0 1 2 3
```

Restore file descriptors for particular signals. Not generally necessary since they should be restored when the sub-shell exits.

```bash
exec 1>log.out 2>&1
```

Redirect stdout to file log.out then redirect stderr to stdout. Note that the order is important when you want them going to the same file. stdout must be redirected before stderr is redirected to stdout.


**********
[bash](/tags/bash.md)
