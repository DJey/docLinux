# Отступ исходного кода
## Setup

### Indentation without hard tabs

For indentation without tabs, the principle is to set  `'expandtab'` , and set  `'shiftwidth'`  and  `'softtabstop'`  to the same value, while leaving  `'tabstop'`  at its default value:

 `` `vim
set expandtab
set shiftwidth=2
set softtabstop=2
 `` `

These settings will result in spaces being used for all indentation.

### Indentation purely with hard tabs

For indentation purely with hard tabs, the principle is to set `'tabstop'` and `'shiftwidth'` to the same value, and to leave `'expandtab'` at its default value ( `'noexpandtab'` ), and leave `'softtabstop'` unset:

```vim
set shiftwidth=2
set tabstop=2
```

These settings will result in hard tabs being used for all indentation.

### Indentation with mixed tabs and spaces

For indentation with mixed tabs and spaces, the principle is to set `'shiftwidth'` and `'softtabstop'` to the same value, leave `'expandtab'` at its default ( `'noexpandtab'` ). Usually, `'tabstop'` is left at its default value:

```vim
set shiftwidth=2
set softtabstop=2
```

These settings will cause as many hard tabs as possible being used for indentation, and spaces will be used to fill in the remains. If you want to distinguish between "indentation" and "alignment", i.e., the number of hard tabs equals the indentation level, use the[Smart Tabs](https://vim.fandom.com/wiki/VimTip1626 "VimTip1626")plug-in.

### Explanation of the options

Vim's different indentation options are an endless source of grief and confusion for new users. There are plenty of example[vimrcs](https://vim.fandom.com/wiki/Vimrc "Vimrc")out there that will tell you how theirs is the proper setup. More often than not,_they are misguided_. Let `:help` be your reference, and this page be your guide to Vim's indentation options.

*    ['tabstop'](http://vimdoc.sourceforge.net/cgi-bin/help?tag=%27tabstop%27) changes the width of the `TAB` character, plain and simple.
*    ['softtabstop'](http://vimdoc.sourceforge.net/cgi-bin/help?tag=%27softtabstop%27) affects what happens when you press the `<TAB>` or `<BS>` keys. Its default value is the same as the value of `'tabstop'` , but when using indentation without hard tabs or mixed indentation, you want to set it to the same value as `'shiftwidth'` . If `'expandtab'` is unset, and `'tabstop'` is different from `'softtabstop'` , the `<TAB>` key will minimize the amount of spaces inserted by using multiples of `TAB` characters. For instance, if `'tabstop'` is 8, and the amount of consecutive space inserted is 20, two `TAB` characters and four spaces will be used.
*    ['shiftwidth'](http://vimdoc.sourceforge.net/cgi-bin/help?tag=%27shiftwidth%27) affects what happens when you press `>>` , `<<` or `==` . It also affects how automatic indentation works. (See below.)
*    ['expandtab'](http://vimdoc.sourceforge.net/cgi-bin/help?tag=%27expandtab%27) affects what happens when you press the `<TAB>` key. If `'expandtab'` is set, pressing the `<TAB>` key will always insert `'softtabstop'` amount of space characters. Otherwise, the amount of spaces inserted is minimized by using `TAB` characters.
*    ['smarttab'](http://vimdoc.sourceforge.net/cgi-bin/help?tag=%27smarttab%27) affects how `<TAB>` key presses are interpreted depending on where the cursor is. If `'smarttab'` is on, a `<TAB>` key inserts indentation according to `'shiftwidth'` at the beginning of the line, whereas `'tabstop'` and `'softtabstop'` are used elsewhere. There is seldom any need to set this option, unless it is necessary to use hard `TAB` characters in body text or code.

### Considerations

Using a `'tabstop'` value other than the default (8 spaces), will result in your file having a different appearance when using tools such as `cat` ( `type` on Windows), which can't use a custom width tab character. On the other hand, using hard tabs for indentation, allows others to view your code with the amount of indentation they prefer. Which of these considerations should have priority, is a matter of personal preference (and company policy).

## Methods for automatic indentation

There are a number of methods enabling automatic indentation in Vim, ranging from fairly "stupid" and unintrusive ones, like `'autoindent'` and `'smartindent'` , to complex ones such as `'cindent'` and custom indentation based on filetype using `'indentexpr'` . The amount of indentation used for one level is controlled by the `'shiftwidth'` option. (See above.)

### 'autoindent'

 `'autoindent'` does nothing more than copy the indentation from the previous line, when starting a new line. It can be useful for structured text files, or when you want to control most of the indentation manually, without Vim interfering.

 `'autoindent'` does not interfere with other indentation settings, and some file type based indentation scripts even enable it automatically.

### 'smartindent' and 'cindent'

 `'smartindent'` automatically inserts one extra level of indentation in some cases, and works for C-like files. `'cindent'` is more customizable, but also more strict when it comes to syntax.

 `'smartindent'` and `'cindent'` might interfere with file type based indentation, and should never be used in conjunction with it.

When it comes to C and C++, file type based indentations automatically sets `'cindent'` , and for that reason, there is no need to set `'cindent'` manually for such files. In these cases, the `'cinwords'` , `'cinkeys'` and `'cinoptions'` options still apply.

Generally, `'smartindent'` or `'cindent'` should only be set manually if you're not satisfied with how file type based indentation works.

### File type based indentation

This type of indentation is the most flexible, as it allows users to customize indentation per file type. You enable this type of automatic indentation with the following command:  `filetype plugin indent on`  . This command will use indentation scripts located in the `indent` folder of your vim installation.

For instance, the indentation scripts for C and C++ file types properly set the `'cindent'` option, and there are very competent indentation scripts for Ruby, Perl and many other languages and file types. File type based indentation even works correctly with `Makefile` s without interference!

If you plan on using file type based indentation, don't set `'smartindent'` or `'cindent'` . You may still set `'autoindent'` , since it doesn't interfere.

The `vimrc_example.vim` that ships with Vim enables filetype based indentation:

if has("autocmd")
  " Enable file type detection.
  " Use the default filetype settings, so that mail gets 'tw' set to 72,
  " 'cindent' is on in C files, etc.
  " Also load indent files, to automatically do language-dependent indenting.
  filetype plugin indent on
  " ...
endif

## Different settings for different file types

You may want indentation for html files to use tabs with 2-columns per indent, while Python files use spaces with 4-columns per indent. To apply suitable settings automatically, first enable file type detection with the following in your[vimrc](https://vim.fandom.com/wiki/Vimrc "Vimrc"):

```vim
filetype plugin indent on
```

Create file `html.vim` with contents:

```vim
setlocal shiftwidth=2
setlocal tabstop=2
```

and file `python.vim` with contents:

```vim
setlocal expandtab
setlocal shiftwidth=4
setlocal softtabstop=4
```

The `html.vim` and `python.vim` files should be in this directory (which you may need to create):

*    `~/.vim/after/ftplugin` on Unix-based systems; or
*    `$HOME/vimfiles/after/ftplugin` on Windows systems

The standard plugins probably do not change settings such as `shiftwidth` , and in that case the directory `~/.vim/ftplugin` (or `$HOME/vimfiles/ftplugin` ) would work as an alternative. However the "after" directory should be used because you intend to override settings from other plugins.

Using the "after" directory as above is recommended, but it is possible to put commands such as the following in your[vimrc](https://vim.fandom.com/wiki/Vimrc "Vimrc")as an alternative:

```vim
autocmd FileType html setlocal shiftwidth=2 tabstop=2
autocmd FileType python setlocal expandtab shiftwidth=4 softtabstop=4
```


**********
[vim](/tags/vim.md)
